// Standard Buffer Overflow example

#include <stdio.h>
#include <string.h>
#define UNUSED __attribute__((unused))

void win(char **envp);

int main(UNUSED int argc, UNUSED char **argv, char **envp)
{
    char array[64];
    int number = 0;

    gets(array);

    printf("You just wrote: %s", array);

    if (number != 0) {
        printf("Good job !\n");
        win(envp);
    }
}

void win(char **envp)
{
    size_t length;

    for (int i = 0; envp[i]; ++i) {
        length = strlen(envp[i]);
        if (strncmp(envp[i], "FLAG=", (length < 5 ? length : 5))) {
            printf("Here is your flag: %s\n", &envp[i][5]);
            break;
        }
    }
}